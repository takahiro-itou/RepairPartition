# バックアップ

現在のパーティション

* Disk 1

|No.|Type|TypeID|FS|Start LBA|End LBA|Sectors|Size|Label|
|--:|----|-----|:--|--------:|------:|------:|---:|:----|
|1|Primary|0x0B|FAT32|        2,048|    1,574,911|    1,572,864|   768 MiB         |WIN9X|
|2|Primary|0x07|NTFS |    1,574,912|    1,779,711|      204,800|   100 MiB         |SYSTEMRESERVED|
|3|Primary|0x07|NTFS |    1,781,759|  127,610,878|  125,829,120|61,440 MiB (60 GiB)|WINDOWS|
|4|Logical|0x07|NTFS |  127,610,880|  211,496,959|   83,886,080|40,960 MiB (40 GiB)|PROGRAM|
|5|Logical|0x07|NTFS |  211,499,008|  389,756,927|  178,257,920|87,040 MiB (85 GiB)|NOINST|
|6|Logical|0x83|EXT4 |  389,758,976|  473,645,055|   83,886,080|40,960 MiB (40 GiB)|LINUXROOT|
|7|Logical|0x83|EXT4 |  473,647,104|  482,035,711|    8,388,608| 4,096 MiB ( 4 GiB)|LINUXBOOT|
|8|Logical|0x0B|FAT32|  482,037,760|  486,234,111|    4,196,352| 2,049 MiB         |RECOVERY|

* Disk 2

|No.|Type|TypeID|FS|Start LBA|End LBA|Sectors|Size|Label|
|--:|----|-----|:--|--------:|------:|------:|---:|:----|
| 1|Primary|0x83|EXT4 |        2,048|    8,390,655|    8,388,608|  4,096 MiB (  4 GiB)|BKUPLNXBOOT|
| 2|Primary|0x07|NTFS |    8,390,656|    8,595,455|      204,800|    100 MiB          |SYSTEMRESERVED|
| 3|Primary|0x07|NTFS |    8,595,456|   75,704,319|   67,108,864| 32,768 MiB ( 32 GiB)|USERS|
| 4|Logical|0x07|NTFS |   75,706,368|  201,535,487|  125,829,120| 61,440 MiB ( 60 GiB)|RAMBK|
| 5|Logical|0x07|NTFS |  201,537,536|  327,366,655|  125,829,120| 61,440 MiB ( 60 GiB)|PAGEFILE|
| 6|Logical|0x0B|FAT32|  327,368,704|  537,083,903|  209,715,200|102,400 MiB (100 GiB)|DATA1|
| 7|Logical|0x0B|FAT32|  537,085,952|1,208,174,591|  671,088,640|327,680 MiB (320 GiB)|DATA2|
| 8|Logical|0x07|NTFS |1,208,176,640|1,417,891,839|  209,715,200|102,400 MiB (100 GiB)|MOZILLA|
| 9|Logical|0x83|EXT4 |1,417,893,888|1,627,609,087|  209,715,200|102,400 MiB (100 GiB)|LINUXHOME|
|10|Logical|0x83|NTFS |1,627,611,136|1,694,719,999|   67,108,864| 32,768 MiB ( 32 GiB)|USERS10|

# 修復ツールが自動検出したパーティション

|No.|Type|TypeID|FS|Start LBA|End LBA|Sectors|Size|Label|
|--:|----|-----|:--|--------:|------:|------:|---:|:----|
| 1|Primary|    |     |1,694,720,000|1,820,549,112|  125,829,113| 61,430.9 MiB|WINDOWS|
| 2|Logical|    |     |1,820,553,216|1,854,107,647|   33,554,432| 16,384 MiB (16 GiB)|RESCUE|
| 3|Primary|    |     |1,864,595,456|1,931,704,319|   67,108,864| 32,768 MiB (32 GiB)|USERS10|

# ダンプしたセクタの解析
## マスターブートレコード

`sudo dd if=/dev/sdb of=MBR bs=512 count=1`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|20 21 00|83|4b 81 0a|00 08 00 00|00 00 80 00|
|2|80|4b 82 0a|07|0a b3 17|00 08 80 00|00 20 03 00|
|3|00|0a b4 17|07|fe ff fe|00 28 83 00|00 00 00 04|
|4|00|fe ff fe|0f|fe ff fe|ff 2f 83 04|01 48 a0 6e|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|Start CHS|End CHS|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|---------|-------|
|1|00|83|0x00000800|0x00800000|        2,048|    8,388,608|    8,390,655|000,20,21|20a,4b,01|
|2|80|07|0x00800800|0x00032000|    8,390,656|      204,800|    8,595,455|20a,4b,02|217,0a,33|
|3|00|07|0x00832800|0x04000000|    8,595,456|   67,108,864|   75,704,319|217,0a,34|FEFFFE|
|4|00|0F|0x04832FFF|0x6EA04801|   75,706,367|1,855,997,953|1,931,704,319|FEFFFE|FEFFFE|

## EPBR @ 75,706,367

`sudo dd if=/dev/sdb of=sdb.75706367.epbr bs=512 count=1 skip=75706367`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|80 d9 fe|07|fe d1 fe|01 00 00 00|00 00 80 07|
|2|00|01 c1 fe|05|5e da fe|01 00 80 07|00 08 80 07|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x00000001|0x07800000|   75,706,368|  125,829,120|  201,535,487|
|2|00|05|0x07800001|0x07800800|  201,535,488|  125,831,168|  327,366,655|

## EPBR @ 201,535,488

`sudo dd if=/dev/sdb of=sdb.201535488.epbr bs=512 count=1 skip=201535488`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|21 e1 fe|07|1d d9 fe|00 08 00 00|00 00 80 07|
|2|00|c1 e8 fe|05|27 d8 fe|00 10 00 0f|01 00 80 0c|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x00000800|0x07800000|  201,537,536|  125,829,120|  327,366,655|
|2|00|05|0x0F001000|0x0C800001|  327,368,703|  209,715,201|  537,083,903|

## EPBR @ 327,368,703

`sudo dd if=/dev/sdb of=sdb.327368703.epbr bs=512 count=1 skip=327368703`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|c1 e9 fe|0b|27 d6 fe|01 00 00 00|00 00 80 0c|
|2|00|ec d6 fe|05|88 f5 fe|01 10 80 1b|00 08 00 28|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|0B|0x00000001|0x0C800000|  327,368,704|  209,715,200|  537,083,903|
|2|00|05|0x1B801001|0x28000800|  537,083,904|  671,090,688|1,208,174,591|

## EPBR @ 537,083,904

`sudo dd if=/dev/sdb of=sdb.537083904.epbr bs=512 count=1 skip=537083904`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|0d f6 fe|0b|47 f4 fe|00 08 00 00|00 00 00 28|
|2|00|83 fe fe|05|65 c2 fe|00 20 80 43|01 00 80 0c|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|0B|0x00000800|0x28000000|  537,085,952|  671,088,640|1,208,174,591|
|2|00|05|0x43802000|0x0C800001|1,208,176,639|  209,715,201|1,417,891,839|

## EPBR @ 1,208,176,639

`sudo dd if=/dev/sdb of=sdb.1208176639.epbr bs=512 count=1 skip=1208176639`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|83 ff fe|07|64 ff fe|01 00 00 00|00 00 80 0c|
|2|00|ae ec fe|05|5a f3 fe|01 20 00 50|00 08 80 0c|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x00000001|0x0C800000|1,208,176,640|  209,715,200|1,417,891,839|
|2|00|05|0x50002001|0x0C800800|1,417,891,840|  209,717,248|1,627,609,087|

## EPBR @ 1,417,891,840

`sudo dd if=/dev/sdb of=sdb.1417891840.epbr bs=512 count=1 skip=1417891840`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|cf cd fe|83|19 f2 fe|00 08 00 00|00 00 80 0c|
|2|00|1b d9 fe|05|f7 fe fe|00 30 80 5c|01 00 00 04|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|83|0x00000800|0x0C800000|1,417,893,888|  209,715,200|1,627,609,087|
|2|00|05|0x5C803000|0x04000001|1,627,611,135|   67,108,865|1,694,719,999|

## EPBR @ 1,627,611,135

`sudo dd if=/dev/sdb of=sdb.1627611135.epbr bs=512 count=1 skip=1627611135`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|1b da fe|07|f7 fc fe|01 00 00 00|00 00 00 04|
|2|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x00000001|0x04000000|1,627,611,136|   67,108,864|1,694,719,999|

# 消えたパーティションを含む拡張領域の推定
## 候補 1,694,720,000

`sudo dd if=/dev/sdb of=sdb.1694720000.epbr bs=512 count=1 skip=1694720000`
- ブートシグネチャは有るが、パーティションテーブルが不自然

## 候補 1,820,553,215
`sudo dd if=/dev/sdb of=sdb.1820553215.epbr bs=512 count=1 skip=1820553215`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|32 c7 fe|0b|37 ce fe|01 00 00 00|00 00 00 02|
|2|00|dc c9 fe|05|96 fa fe|01 40 00 6a|08 00 a0 00|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|0B|0x00000001|0x02000000|1,820,553,216|   33,554,432|1,854,107,647|
|2|00|05|0x6A004001|0x00A00008|1,854,107,648|   10,485,768|1,864,593,415|

## 候補 1,694,724,095

`sudo dd if=/dev/sdb of=sdb.1694724095.epbr bs=512 count=1 skip=1694724095`
- ブートセクタでは無かった

## 候補 1,694,722,048

`sudo dd if=/dev/sdb of=sdb.1694722048.epbr bs=512 count=1 skip=1694722048`
- ブートセクタでは無かった

## 候補 1,694,719,937

`sudo dd if=/dev/sdb of=sdb.1694719937.epbr bs=512 count=1 skip=1694719937`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|01 01 00|07|fe ff ff|3f 00 00 00|00 00 80 07|
|2|00|fe ff ff|05|fe ff ff|c2 3f 00 68|3f 00 00 02|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x0000003F|0x07800000|1,694,720,000|  125,829,120|1,820,549,119|
|2|00|05|0x68003001|0x0200003F|1,820,553,153|   33,554,495|1,854,107,647|

## 候補 1,694,719,999

`sudo dd if=/dev/sdb of=sdb.1694719999.epbr bs=512 count=1 skip=1694719999`

* ダンプ内容

|No.|Flag|Start CHS|Type|End CHS|Start LBA|LBA Sectors|
|--:|----|---------|----|-------|---------|-----------|
|1|00|70 de fe|07|cd dc fe|01 00 00 00|00 00 80 07|
|2|00|f0 c6 fe|05|b9 d0 fe|01 30 00 68|00 10 00 02|
|3|00|00 00 00|00|00 00 00|00 00 00 00|00 00 00 00|
|4|00|00 00 00|00 00 00 00|00 00 00 00|00 00 00 00|

* 解析結果

|No.|Flag|Type|Start LBA (HEX)|Sectors (HEX)|Start LBA|Sectors LBA|End LBA|
|--:|:---|---:|--------------:|------------:|--------:|----------:|------:|
|1|00|07|0x00000001|0x07800000|1,694,720,000|  125,829,120|1,820,549,119|
|2|00|05|0x68003001|0x02001000|1,820,549,120|   33,558,528|1,854,107,647|

